<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GestiÃ³n de Ventas - Usuario</title>
    <link rel="stylesheet" href="CSS/dashboard_user.css">
</head>
<body>

<div class="layout">

    <aside class="sidebar">
        <div class="brand">
            <h2>UTP</h2>
            <p>GestiÃ³n de Ventas</p>
        </div>

        <div class="user-info">
            <div class="user-avatar">ğŸ‘¤</div>
            <p class="user-name">Empleado</p>
        </div>

        <nav class="menu">
            <a href="dashboard_user.html">ğŸ½ MenÃºs</a>
            <a href="promociones.html">ğŸ Promociones</a>
            <a href="usuarios.html">ğŸ‘¤ Mi Perfil</a>
            <a href="ventas_user.html" class="active">ğŸ’µ GestiÃ³n de Ventas</a>
        </nav>

        <a href="/logout" class="logout">Cerrar SesiÃ³n</a>
    </aside>

    <main class="content"> <h1 class="title">Registro de Ventas</h1>

        <div id="preloadNotice" class="alert-info" style="display:none;"></div>

        <section class="card">
            <form id="ventaForm">
                
                <input type="hidden" id="usuarioLogueado" value="">

                <h3 class="subtitle" style="margin-top:0;">ğŸ‘¤ Datos del Cliente</h3>
                <div style="display:grid; grid-template-columns: 1fr 2fr; gap:10px;">
                    <div>
                        <label>CÃ³digo Universitario:</label>
                        <input type="text" id="codigoCliente" class="input" placeholder="CÃ³digo UTP/DNI">

        
                    </div>
                    <div>
                          <label>Nombre del Cliente:</label>
                            <input type="text" id="nombreCliente" class="input" placeholder="Nombre completo">                    </div>
                    </div>
                
                <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">

                <h3 class="subtitle">ğŸ›’ Producto a Vender</h3>
                
                <label>Tipo de Venta:</label>
                <select id="tipoVenta" class="input">
                    <option value="MENU">ğŸ½ï¸ MenÃº Individual</option>
                    <option value="PROMOCION">ğŸ PromociÃ³n / Combo</option>
                </select>

                <label>Seleccionar Ãtem:</label>
                <select id="productoSelect" required class="input">
                    </select>
                
                <div style="margin-bottom:12px; font-size:0.9rem; color:#555;">
                    Stock Disponible: <strong id="stockDisplay" style="color:#d35400;">Cargando...</strong>
                </div>

                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                    <div>
                        <label>Cantidad:</label>
                        <input type="number" id="cantidad" min="1" value="1" required class="input">
                    </div>
                    <div>
                        <label>Precio Unit. (S/):</label>
                        <input type="number" id="precio" step="0.01" readonly class="input" style="background:#f9f9f9;">
                    </div>
                </div>

                <label style="margin-top:15px; display:block; font-weight:bold; font-size:1.1rem;">Total a Pagar (S/):</label>
                <input type="number" id="total" step="0.01" readonly class="input" 
                       style="background:#e8f5e9; font-weight:bold; font-size:1.2rem; color:#2e7d32;">

                <button class="btn-primary" type="submit" style="margin-top:20px;">âœ… Registrar Venta</button>
            </form>
        </section>

        <section class="card">
            <h3 class="subtitle">Ventas Realizadas Hoy</h3>
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Cliente</th>
                            <th>Producto</th>
                            <th>Cant.</th>
                            <th>Total</th>
                            <th>Hora</th>
                        </tr>
                    </thead>
                    <tbody id="ventasTableBody"></tbody>
                </table>
            </div>
        </section>

    </main>
</div>

<script src="js/ventas_user.js"></script>

</body>
</html>